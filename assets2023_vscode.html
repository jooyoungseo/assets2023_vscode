<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.176">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>assets2023_vscode</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="assets2023_vscode_files/libs/clipboard/clipboard.min.js"></script>
<script src="assets2023_vscode_files/libs/quarto-html/quarto.js"></script>
<script src="assets2023_vscode_files/libs/quarto-html/popper.min.js"></script>
<script src="assets2023_vscode_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="assets2023_vscode_files/libs/quarto-html/anchor.min.js"></script>
<link href="assets2023_vscode_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="assets2023_vscode_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="assets2023_vscode_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="assets2023_vscode_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="assets2023_vscode_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Introduction</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>An integrated development environment (IDE) is an application that conveniently provides essential functions for the entire programming process, including source editing, compiling and interpreting, and debugging. IDEs have become an essential tool for not only software developers, but also STEM engineers and data scientists in many fields to efficiently manage their computing environments. However, blind developers are not able to take advantage of the many features that graphical user interface (GUI)-based IDEs offer. For example, syntax highlighting, code autocompletion and autosuggestion, diagnostics and linting, variable watches and breakpoints are underutilized even among experienced blind programmers, and many blind developers are still working manually with simple text like Notepad, along with runtime and compile terminals. Behind this problem are intertwined issues of accessibility and learnability. Because different IDEs use different architectures and have different levels of accessibility compliance, blind developers face a new learning curve each time they use an IDE. Blind developers also face the additional challenge of learning the non-visual workaround of accessing an IDE with a screen reader. Although there is a community of blind programmers called Program-L that helps each other with their struggles, IDEs remain a daunting barrier for blind people.</p>
<p>These difficulties are a major socio-technical barrier to blind developers reaching their full potential in the computing field and to social and professional participation. From the perspective of the social model, which recognizes that an individual’s disability may stem from structures and cultures that sociotechnically limit their access rather than from physical, sensory, cognitive, or emotional issues, we can see that IDE accessibility issues are no longer a group-specific problem that blind people must endure, but a collective task for the technology community to reduce barriers together. Specifically, to address these issues, blind and sighted developers need to work together to understand the challenges that blind developers face in using IDEs and then collaboratively find ways to address those challenges.</p>
<p>This paper is the empirical product of blind and sighted developers who have thought deeply about these issues and actively collaborated. We describe how the first author, who is blind, and the second author, who is sighted, have been working together to make the open source IDE Visual Studio Code (VSCode) non-visually accessible and what specific accessibility features have been implemented as a result of our collaboration.</p>
<p>In the following sections, we start with some background on how our collaboration began, then present our methods and deliverables. Finally, we’ll share some insights from our collaboration.</p>
<section id="background" class="level1">
<h1>Background</h1>
<section id="visual-studio-code-and-accessibility" class="level2">
<h2 class="anchored" data-anchor-id="visual-studio-code-and-accessibility">Visual Studio Code and Accessibility</h2>
<p>Visual Studio Code is a lightweight, free, and powerful open-source code editor which runs on the desktop and on the web. It is available for Windows, macOS, and Linux. It has built-in support for JavaScript, TypeScript, and Node.js and a rich ecosystem of extensions for other languages and runtimes (such as C++, C#, Java, Python, PHP, Go, .NET).</p>
<p>Accessibility is and has been a core priority for VS Code since its inception. Without a screen reader user on the team, VS Code relies heavily upon the tremendous contributions of community members for insight and direction.</p>
</section>
<section id="biographies-of-the-authors" class="level2">
<h2 class="anchored" data-anchor-id="biographies-of-the-authors">Biographies of the Authors</h2>
<p>The first author of this paper is blind with only light perception, currently working as an assistant professor in the School of Information Sciences at the University of Illinois at Urbana-Champaign. At the university, he teaches introductory data science courses using R and Python to undergraduate and graduate students. As a lifelong non-visual programmer, he has experience with a variety of IDEs, including Visual Studio, Eclipse, and Net Bean, including text editors such as Emacs/Emacspeak, VIM, and NotePad++, on Linux, Mac, and Windows operating systems, using a variety of screen readers (e.g., JAWS, NVDA, Narrator, VoiceOver, and Orca) and refreshable braille displays. He is a certified professional in accessibility core competencies (CPACC) from the International Association of Accessibility Professionals and has contributed code to a number of open-source data science projects to improve screen reader accessibility, including RStudio IDE Server and the web-based data science dashboard Shiny, reproducible technical publishing systems (e.g., R Markdown, bookdown, and Quarto), and the data table package gt. He is also a member of Program-L, a community of blind programmers where blind programmers help and support each other. In this community, he has experienced first-hand the challenges that blind programmers face in using IDEs and how they overcome them by interacting with other blind programmers and participating in discussions. To improve these community-wide challenges, he created his first issue on the Microsoft VSCode public GitHub site on May 31, 2020, and has since created a total of 164 contributions (87 issues; 76 post comments and mentions; 1 pull request) to actively suggest usability improvements for blind programmers in VSCode and interact with other open source developers (see Appendix for more details).</p>
<p>The second author is a VS Code software engineer. She has worked on the product since graduating from the University of North Carolina at Chapel Hill in 2020 with highest distinction and highest honors for her research and work with Dr.&nbsp;Gary Bishop on semi-automated gaming for users with a wide range of disablities. About 10 months ago, Megan requested to take over responsibility for the product’s accessibility. Since then, she has been working closely with JooYoung and the community to understand accessibility issues and collaborate on solutions.</p>
</section>
<section id="collaboration-methods" class="level2">
<h2 class="anchored" data-anchor-id="collaboration-methods">Collaboration Methods</h2>
<p>JooYoung and Megan communicated issues via GitHub asynchronously for a few weeks before the two agreed that regular meetings might be a more efficient and productive approach. JooYoung’s ideas and insights paired well with Megan’s willingness to learn and drive to improve the product’s accessibility.</p>
<p>During each meeting, JooYoung shared his screen and asked questions or offered suggestions, while Megan offered insight, asked questions, and took notes about bugs or features to be addressed.</p>
<p>These meetings allowed Megan to learn how JooYoung uses VS Code and helped him understand components of the product that might otherwise have been confusing or not discoverable.</p>
<p>The asynchronous communication on Github and via email continued; Megan would often send a follow up email summarizing the findings of their meetings before sharing it with the whole team and JooYoung would comment on the resultant issues if she missed anything or when testing the fixes.</p>
</section>
</section>
<section id="case-studies" class="level1">
<h1>Case Studies</h1>
<p>While nearly all VS Code accessibility fixes and features within the past year are products of this collaboration, below are several of the highlights.</p>
<section id="terminal-buffer" class="level2">
<h2 class="anchored" data-anchor-id="terminal-buffer">Terminal Buffer</h2>
<p><a href="https://github.com/microsoft/vscode/issues/98918">microsoft/vscode#98918: Terminal output div container should be more accessible for screen readers</a></p>
<p>Megan worked on terminal shell integration, a feature which enables VS Code to understand what’s going on in the terminal. This allows a user to navigate easily between commands, copy command output, and more. JooYoung shared his screen, tested the feature, and pointed out that the actual terminal buffer was still inaccessible for screen reader users - since it could not be navigated using arrow keys. He suggested that the output view provides a more accessible experience, so Megan discussed this with a colleague and determined that the same underlying component should be used for the terminal. This allowed the formerly “black box” of the terminal buffer to be navigable via arrow keys for screen reader users. JooYoung suggested that command navigation provided by shell integration could also be used in this accessible buffer and Megan implemented that as well.</p>
</section>
<section id="git-diff-and-audio-cues" class="level2">
<h2 class="anchored" data-anchor-id="git-diff-and-audio-cues">Git Diff and Audio Cues</h2>
</section>
<section id="verbosity-settings-help-menus" class="level2">
<h2 class="anchored" data-anchor-id="verbosity-settings-help-menus">Verbosity Settings, Help Menus</h2>
<p>JooYoung created issues pointing out places where minor tweaks to the order or content of an aria label could yield massive productivity improvements for screen reader users. Megan fixed some such instances and pointed team members toward others, providing guidance about best practices going forward.</p>
<p>Megan started self hosting with a screen reader shortly after this in order to proactively identify other problems. She felt overwhelmed by the noise and noticed some content was repeated ad nauseum, so created an issue and sought the feedback of JooYoung, who suggested that screen reader verbosity settings remedy this and a similar approach could be applied to VS Code’s aria content.</p>
<p>Additionally, JooYoung shared that while it was helpful to meet and learn about the new features via our meetings, most screen reader users did not have this luxury. Megan and her colleague, Daniel, brainstormed about a discoverable way for screen reader users to find out about terminal features. Upon terminal focus, an aria label conveyed how to access the terminal’s accessibility help menu. To reduce noise, this hint could be disabled with a verbosity setting. Since then, help menus and verbosity settings have been added for the Copilot inline and panel chat, notebook, and other features.</p>
</section>
<section id="copilot-and-inline-suggestions" class="level2">
<h2 class="anchored" data-anchor-id="copilot-and-inline-suggestions">Copilot and Inline Suggestions</h2>
</section>
<section id="accessibility-testing-initiative" class="level2">
<h2 class="anchored" data-anchor-id="accessibility-testing-initiative">Accessibility Testing Initiative</h2>
<p>The VS Code team tests new features at the end of every month before each release. Megan noticed that while the team tested each platform - MacOS, Linux, and Windows, they were not testing the screen reader experience. A new protocol has been established to ensure better coverage going forward; the iteration following a feature’s release, the team will test the feature using screen readers. Retroactive testing of features is currently underway to make up for this historical oversight. JooYoung’s creation of issues about old and new features alike inspired and justified this initiaive.</p>
</section>
</section>
<section id="discussion-and-conclusion" class="level1">
<h1>Discussion and Conclusion</h1>
</section>
<section id="acknowledgments" class="level1">
<h1>Acknowledgments</h1>
<div class="acks">
<p>We thank …</p>
</div>
</section>
<section id="references" class="level1 unnumbered">
<h1 class="unnumbered">References</h1>
<div id="refs" role="list">

</div>
</section>
<section id="appendix" class="level1">
<h1>Appendix</h1>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> gh search issues <span class="at">--repo</span> microsoft/vscode <span class="at">--include-prs</span> <span class="at">--involves</span> jooyoungseo <span class="at">-L</span> 200</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="{block}"><code>issue   microsoft/vscode    186857  open    [Accessibility] Checkboxes are unlabeled in `Export Profile...` bug, accessibility  2023-07-03T15:16:09Z
issue   microsoft/vscode    186754  open    data science audio and text graph for visually impaired person  feature-request, accessibility  2023-07-03T15:44:25Z
issue   microsoft/vscode    186679  open    Alert that the help hint has been disabled  bug, accessibility  2023-06-29T21:41:13Z
issue   microsoft/vscode    186678  open    Change accessible buffer command navigation keybinding for screen reader users  feature-request, macos, terminal-accessibility  2023-06-30T13:21:00Z
issue   microsoft/vscode    186676  open    add accessible view provider for inline chat response   feature-request, accessibility, inline-chat 2023-06-29T21:32:04Z
issue   microsoft/vscode    186675  open    when next/previous ghost text suggestion is shown, we don't alert screen reader users   bug, accessibility, ghost-text  2023-06-29T21:28:38Z
issue   microsoft/vscode    186673  closed  have accessible view for ghost text completions feature-request, accessibility, *duplicate  2023-07-03T15:42:17Z
issue   microsoft/vscode    186659  closed  Sticky scroll for screen reader users   feature-request, accessibility  2023-06-30T16:08:19Z
issue   microsoft/vscode    186514  closed  Closing accessibility hint doesn't stop VoiceOver from reading it   bug, verified, accessibility, under-discussion, insiders-released   2023-06-29T19:24:58Z
issue   microsoft/vscode    185705  closed  Consider providing screen reader with the chat response for inline chat feature-request, on-testplan, on-release-notes, insiders-released, inline-chat  2023-07-03T18:34:05Z
issue   microsoft/vscode    185691  closed  Consider which audio cues for chat experience should be enabled by default  accessibility, under-discussion, insiders-released  2023-06-26T06:42:23Z
issue   microsoft/vscode    185565  open    Accessibility: Cannot turn off audio cues on a language level   feature-request, accessibility  2023-06-20T09:20:16Z
issue   microsoft/vscode    185371  open    Review usage of `aria-live: assertive`, `alert` throughout the code base    feature-request, accessibility  2023-06-27T01:54:57Z
issue   microsoft/vscode    185155  open    Alert screen reader users that something has occurred when `clear` is used  feature-request, accessibility, terminal, under-discussion  2023-06-14T19:15:24Z
pr  microsoft/vscode    185153  merged  prevent screen reader from reading a user's chat request on enter       2023-06-15T16:22:31Z
issue   microsoft/vscode    184357  open    [Accessibility]: Make syntax highlight accessible to screen reader users via a speech scheme    feature-request, accessibility, grammar 2023-06-05T21:24:47Z
issue   microsoft/vscode    184176  closed  Add notebook accessibility help menu    feature-request, verified, accessibility, verification-needed   2023-06-27T22:19:25Z
issue   microsoft/vscode    184173  closed  Accessibility: Take out extra messages from Notebook verbosity FALSE    feature-request, verified, accessibility, verification-needed   2023-06-27T23:43:35Z
issue   microsoft/vscode    183567  open    Explore improvements to notifications when using a screen reader    accessibility, workbench-notifications  2023-05-26T18:28:27Z
issue   microsoft/vscode    183363  closed  Make accessibility help generic feature-request, accessibility, on-testplan, on-release-notes   2023-07-03T18:27:36Z
issue   microsoft/vscode    183030  closed  Reading suggestions or autocomplete of extensions   bug, verified, accessibility, insiders-released 2023-06-01T13:49:56Z
issue   microsoft/vscode    182682  open    Merge editor accessibility  accessibility, merge-editor 2023-06-21T12:11:29Z
pr  microsoft/vscode    182666  merged  outweigh normal editor accessibility help menu      2023-06-30T23:23:35Z
issue   microsoft/vscode    181732  closed  Accessibility: Make drag-and-drop accessible via keyboard   bug, accessibility, *as-designed    2023-05-09T21:25:26Z
issue   microsoft/vscode    181139  open    Accessibility: Make Tab key focus restricted to the currently open view accessibility, under-discussion 2023-05-05T10:32:09Z
issue   microsoft/vscode    181060  closed  BAccessibility: Pressing Shift+Tab key in Ctrl+F moves to terminal area accessibility   2023-04-28T15:10:26Z
issue   microsoft/vscode    180970  closed  provide alt text for image outputs  feature-request, accessibility, verification-needed, notebook-output    2023-06-27T22:45:09Z
pr  microsoft/vscode    180776  merged  fix windows quick fixes     2023-06-09T23:22:27Z
issue   microsoft/vscode    180729  closed  Investigate merge editor accessibility  bug, accessibility  2023-05-23T17:26:49Z
issue   microsoft/vscode    180725  open    interacting with components should be consistent    accessibility, extensions   2023-06-26T16:40:31Z
issue   microsoft/vscode    180653  closed  [Accessibility]: Present content first in References Treeview   help wanted, accessibility, references-viewlet, insiders-released   2023-05-15T06:59:23Z
issue   microsoft/vscode    180221  open    Accessibility: Ctrl+Down/UpArrows does not work in Tree find control    feature-request, accessibility  2023-06-26T16:28:30Z
issue   microsoft/vscode    180216  closed  [Accessibility]: Typing characters does not move focus in File Explorer View    *duplicate  2023-06-02T23:22:43Z
issue   microsoft/vscode    180176  open    [Accessibility]: Consider replacing audioCues.lineHasInlineSuggestion with less distruptive lower-pitch sound   feature-request, accessibility  2023-06-08T19:33:38Z
issue   microsoft/vscode    180083  open    Accessibility: Make Debug Console follow terminal tabFocusMode  accessibility, under-discussion 2023-04-17T15:37:14Z
issue   microsoft/vscode    180049  open    [Accessibility]: Support filtering symbol types in Document Sylbol View feature-request, accessibility  2023-06-07T12:54:15Z
issue   microsoft/vscode    179981  open    Focus does not stay in the editor area after sending selection to terminal  bug, accessibility, terminal-editors    2023-04-14T16:35:31Z
issue   microsoft/vscode    179979  closed  Accessibility: Ctrl+Up/DownArrows does not work in terminal created in editor area  info-needed, terminal-accessibility 2023-05-29T23:22:12Z
issue   microsoft/vscode    179970  closed  Accessibility: Make Ctrl+RightArrow expand all in tree views    accessibility, *duplicate   2023-04-24T15:36:11Z
issue   microsoft/vscode    179969  closed  Make filtering more flexible in Problem View    info-needed, error-list 2023-06-09T23:22:27Z
issue   microsoft/vscode    179967  open    Accessibility: Generalize Ctrl+DownArrow and Ctrl+UpArrow to all input-result widgets   feature-request, accessibility  2023-07-03T15:03:39Z
issue   microsoft/vscode    179964  open    Accessibility: Improve Problem View search input    accessibility, error-list   2023-04-14T17:12:28Z
issue   microsoft/vscode    179718  closed  search result aria label should prioritze content over location feature-request, verified, search, accessibility, verification-needed   2023-04-26T21:43:24Z
issue   microsoft/vscode    179717  closed  Problems aria label should prioritize content over location feature-request, verified, accessibility, verification-needed, insiders-released    2023-04-25T23:46:10Z
issue   microsoft/vscode    179716  open    Allow configuring what is included in the accessible buffer feature-request, terminal-accessibility 2023-05-01T16:28:58Z
issue   microsoft/vscode    179283  closed  [Accessibility]: Make "Go to line" announce focused line after executed bug, verified, accessibility, on-release-notes, insiders-released   2023-04-27T22:30:48Z
issue   microsoft/vscode    179272  closed  [Accessibility]: Add shortcut keys to jump between executed commands in terminal buffer feature-request, verified, verification-needed, on-release-notes, insiders-released, terminal-accessibility 2023-05-22T23:22:24Z
issue   microsoft/vscode    179123  closed  [Accessibility]: `Search: Find in Files, Control+Shift+F` could be made more accessible.    feature-request, verified, search, accessibility, verification-needed, search-editor, insiders-released 2023-04-26T00:00:22Z
issue   microsoft/vscode    178935  closed  [Accessibility] Audio cues stopped working in Chrome    accessibility, *duplicate, regression   2023-04-03T18:41:30Z
issue   microsoft/vscode    178915  closed  [Accessibility] Make sticky scroll view line indentation accessible feature-request, accessibility, editor-sticky-scroll    2023-04-04T13:34:14Z
issue   microsoft/vscode    177755  closed  [Accessibility]: Switching editor (Ctrl+Tab) does not work from a11y terminal buffer    bug, verified, insiders-released, terminal-accessibility    2023-05-07T23:22:02Z
issue   microsoft/vscode    177697  closed  `Terminal: navigate accessible buffer` does not work sometimes  bug, verified, insiders-released, terminal-accessibility    2023-05-06T23:22:51Z
issue   microsoft/vscode    177696  closed  Inline suggestion is read twice by the screen reader    bug, verified, accessibility, insiders-released 2023-04-17T19:56:08Z
issue   microsoft/vscode    177694  closed  add command to repeat most recent notification  accessibility, workbench-notifications  2023-04-21T16:32:24Z
issue   microsoft/vscode    177029  closed  [Accessibility]: `Set Selection Anchor` and `Select from Anchor to Cursor` does not work in a11y terminal buffer    feature-request, verified, verification-needed, on-release-notes, insiders-released, terminal-accessibility 2023-05-20T23:21:33Z
issue   microsoft/vscode    176779  open    Make error in line audio cue configurable   feature-request, accessibility  2023-04-21T16:24:18Z
issue   microsoft/vscode    176521  open    [Accessibility] Support task completion/failure audio cues in Output    feature-request, accessibility  2023-03-27T18:18:03Z
issue   microsoft/vscode    176293  closed  Prefer SVG renderers for image output to improve screen reader fidelity accessibility, notebook-output  2023-04-26T19:23:55Z
issue   microsoft/vscode    176292  open    improve screen reader context and navigation of Cell outputs    accessibility, notebook-output  2023-05-25T20:18:24Z
issue   microsoft/vscode    176290  open    consider default keybindings for go to next / previous cell input   accessibility, under-discussion, notebook-ipynb 2023-03-06T20:04:03Z
issue   microsoft/vscode    176286  closed  `allowNavigateToSurroundingCells` should be false when screen reader is detected    bug, verified, accessibility, insiders-released, notebook-ipynb 2023-04-27T21:43:54Z
issue   microsoft/vscode    176242  open    Notify screen reader users that a VS Code update is available   feature-request, accessibility, under-discussion    2023-03-06T19:35:08Z
issue   microsoft/vscode    175986  open    Allow VS Code extensions to trigger audio cues  feature-request, accessibility  2023-04-03T03:47:49Z
pr  microsoft/vscode    175823  merged  provide screen reader with inline suggestions       2023-04-21T23:22:48Z
issue   microsoft/vscode    175743  open    Output of Jupyter notebook cells is not intuitively accessible with screen readers  bug, accessibility, notebook-output 2023-03-01T17:41:14Z
issue   microsoft/vscode    175432  closed  [Accessibility] Pressing Ctrl+M key (toggle tabFocusMode) should save separate boolean value for terminal and editor.   info-needed 2023-04-13T23:22:32Z
issue   microsoft/vscode    175348  open    Refine error on line audio cue  feature-request, accessibility  2023-02-27T15:20:54Z
issue   microsoft/vscode    175341  closed  [Accessibility] Some thoughts on error in line audio cue    bug, verified, accessibility, candidate 2023-02-25T02:17:13Z
issue   microsoft/vscode    175282  open    [Accessibility] Do not use title attribute when labeling buttons    bug, accessibility  2023-02-24T15:17:49Z
issue   microsoft/vscode    175177  closed  [Accessibility] Remove repeated word from the terminal help bug, verified, insiders-released, terminal-accessibility    2023-04-08T23:22:02Z
issue   microsoft/vscode    175175  closed  [Accessibility] "Go to Recent Directory (Control+G)" instruction is not included in terminal a11y help when cmd prompt is used  bug, verified, insiders-released, terminal-accessibility    2023-04-08T23:22:02Z
issue   microsoft/vscode    175162  closed  assign different default keybinding for focusing the accessible buffer  under-discussion, terminal-accessibility    2023-04-13T23:22:33Z
issue   microsoft/vscode    175140  closed  Add a command that accepts a notification's default action  feature-request, accessibility, on-testplan, on-release-notes, insiders-released    2023-03-23T20:20:35Z
issue   microsoft/vscode    175111  closed  [Accessibility] Redundant read-only terminal buffer needs to be removed from the tab focus cycle.   bug, verified, confirmed, insiders-released, terminal-accessibility 2023-04-08T23:22:02Z
issue   microsoft/vscode    175105  closed  [Accessibility] Reconsider the UI design for {"editor.screenReaderAnnounceInlineSuggestion": true}  accessibility   2023-03-16T19:45:12Z
issue   microsoft/vscode    175014  closed  Replace diff line modified/deleted/ inserted audio cues with punchier, more distinct ones   feature-request, verified, accessibility, candidate, verification-needed, on-release-notes, insiders-released   2023-04-28T11:18:47Z
issue   microsoft/vscode    175013  closed  On focus of the accessible buffer, if the last command failed, play audio cue   terminal-accessibility  2023-05-14T23:22:16Z
issue   microsoft/vscode    175012  closed  Use more succinct audio cue when terminal command fails feature-request, verified, polish, verification-needed, insiders-released, terminal-accessibility   2023-04-13T23:22:33Z
issue   microsoft/vscode    175011  closed  position the cursor at the end of the accessible buffer by default  bug, verified, insiders-released, terminal-accessibility    2023-04-08T23:22:02Z
issue   microsoft/vscode    174857  closed  [Accessibility] Line-by-line audio cues are not played when column position is away from the event trigger spot bug, verified, accessibility, insiders-released 2023-02-24T18:14:07Z
issue   microsoft/vscode    174800  closed  [Accessibility] Shift+Tab is always forced to go to a11y terminal buffer even when insert tab character mode is used    bug, verified, insiders-released, terminal-accessibility    2023-04-14T23:22:37Z
issue   microsoft/vscode    174798  closed  [Accessibility] Remove redundant 4-5 blank lines from the terminal a11y buffer  bug, verified, terminal-accessibility   2023-04-09T23:21:56Z
issue   microsoft/vscode    174797  closed  [Accessibility] python repl content is not parsable in the a11y terminal buffer when Powershell is used under-discussion, terminal-accessibility    2023-04-13T23:22:33Z
issue   microsoft/vscode    174793  closed  [Accessibility] Consider adding a setting to preserve focus in a11y terminal buffer terminal-accessibility  2023-04-13T23:22:33Z
pr  microsoft/vscode    174606  merged  add setting for aria-live assertive alert for ghost text        2023-04-07T23:22:04Z
issue   microsoft/vscode    174368  closed  Play audio cue when a command exits with non-zero code  feature-request, verified, accessibility, on-release-notes, insiders-released   2023-02-24T19:11:28Z
issue   microsoft/vscode    174367  closed  Mention `Terminal: Create Terminal with Profile` in terminal a11y help menu bug, verified, polish, insiders-released, terminal-accessibility    2023-04-04T23:22:02Z
issue   microsoft/vscode    174365  closed  Suggest screen reader users migrate from `cmd prompt` -&gt; `pwsh` feature-request, verified, windows, under-discussion, insiders-released, terminal-accessibility 2023-04-15T23:22:12Z
issue   microsoft/vscode    174362  open    Next suggestion isn't read  bug, accessibility  2023-03-13T09:34:44Z
issue   microsoft/vscode    174360  open    When in `tabFocusMode`, assign a different keybinding for inline suggestion acceptance  bug, important, accessibility   2023-02-14T15:52:55Z
issue   microsoft/vscode    174359  open    Add more audio cues feature-request, accessibility  2023-03-02T16:46:57Z
issue   microsoft/vscode    174079  closed  Add symbol provider for terminal accessible buffer  feature-request, on-testplan, on-release-notes, insiders-released, terminal-accessibility   2023-04-29T23:22:19Z
issue   microsoft/vscode    173622  closed  No indication of ghost text and actions via screen reader   accessibility, *duplicate, ghost-text   2023-02-16T16:33:41Z
issue   microsoft/vscode    173532  closed  I can no longer access terminal accessibility buffer with orca  bug, verified, accessibility, author-verification-requested, insiders-released  2023-02-23T18:22:23Z
issue   microsoft/vscode    173452  closed  [Accessibility] Add page up/down support for accessible buffer  feature-request, verified, verification-needed, on-release-notes, terminal-accessibility    2023-05-13T23:22:00Z
issue   microsoft/vscode    173451  closed  [Accessibility] Make `editor.action.toggleTabFocusMode` configurable in user settings   feature-request, accessibility, on-testplan, on-release-notes, insiders-released    2023-02-24T19:11:35Z
issue   microsoft/vscode    172606  closed  [Accessibility] Go to next/previous change commands don't provide deleted line content to screen readers    feature-request, info-needed, accessibility 2023-02-06T12:29:34Z
issue   microsoft/vscode    172582  closed  [Accessibility] Terminal a11y buffer is not automatically updated   bug, verified, on-release-notes, insiders-released, terminal-accessibility  2023-05-08T23:23:05Z
issue   microsoft/vscode    172525  closed  [Accessibility] Error audio cues are not played on a character level.   bug, feature-request, verified, accessibility, on-release-notes, insiders-released  2023-02-24T19:12:34Z
issue   microsoft/vscode    172523  closed  [Accessibility]: Audio Cues are notplayed a against swift arrow navigation  bug, verified, accessibility, insiders-released 2023-02-22T20:44:00Z
issue   microsoft/vscode    172465  closed  Reduce noise for screen reader users    feature-request, verified, accessibility, verification-needed, under-discussion, insiders-released  2023-04-27T14:20:51Z
issue   microsoft/vscode    172458  closed  in diff view, line selection shouldn't happen on cursor move    bug, verified, accessibility, insiders-released 2023-01-27T17:35:02Z
issue   microsoft/vscode    172399  closed  tab has to be pressed twice to go back to the terminal buffer from accessibility mode   bug, verified, accessibility, terminal-accessibility    2023-01-25T21:47:17Z
pr  microsoft/vscode    172276  merged  xterm@5.2.0-beta.21     2023-03-11T23:23:27Z
issue   microsoft/vscode    172204  closed  Screen reader accessibility mode reads terminal contents character by character *as-designed    2023-03-10T23:23:43Z
issue   microsoft/vscode    172149  open    [Accessibility] Command history is not readable in terminal input field via Up/DownArrow    bug, accessibility, confirmed, terminal-input   2023-02-02T19:35:29Z
issue   microsoft/vscode    172024  closed  [Accessibility] Ctrl+M (editor.action.toggleTabFocusMode) does not work inside terminal input field bug, verified, accessibility, insiders-released, terminal-input 2023-02-22T10:21:22Z
issue   microsoft/vscode    172007  closed  Terminal accessibility buffer does not read output upon enter   bug, verified, accessibility, insiders-released 2023-01-26T23:05:07Z
issue   microsoft/vscode    172006  closed  Make terminal accessibility buffer read only    upstream, accessibility, insiders-released  2023-01-29T02:47:23Z
issue   microsoft/vscode    171918  closed  [Accessibility] Support Home and End keys in Open Detected Link view    accessibility, terminal-links   2023-01-23T17:06:42Z
issue   microsoft/vscode    171916  closed  [Accessibility] Ctrl+Shift+O does not close Open Detected Link view *as-designed, terminal-links    2023-03-09T23:24:58Z
issue   microsoft/vscode    171914  closed  [Accessibility] Make terminal a11y buffer even more accessible  accessibility   2023-01-25T12:46:00Z
issue   microsoft/vscode    171755  open    Code lens is not accessible via screen reader   accessibility, under-discussion, code-lens  2023-04-28T16:00:19Z
issue   microsoft/vscode    171544  closed  sometimes audio cues don't play when going to next/previous difference  bug, verified, accessibility, insiders-released 2023-03-03T23:24:20Z
issue   microsoft/vscode    171429  closed  [Accessibility] Diff editor cursor position is not preserved after escaping from F7 diff pane       2023-04-04T23:22:02Z
issue   microsoft/vscode    171426  open    [Accessibility] Diff editor cursor position is not preserved after escaping from F7 diff pane   feature-request, accessibility  2023-06-08T17:03:22Z
issue   microsoft/vscode    171256  closed  [Accessibility] Trigger diff audio cues against standard arrow key navigation in diff view  feature-request, accessibility, on-testplan, insiders-released  2023-02-27T23:24:26Z
issue   microsoft/vscode    171253  open    [Accessibility] Allow users to customize the audio cue play priority    feature-request, accessibility  2023-01-13T17:40:50Z
issue   microsoft/vscode    171200  closed  support screen reader reading the line and audio cues when go to next/previous diff are used in diff view   feature-request, verified, accessibility, on-testplan, insiders-released    2023-02-27T23:24:27Z
issue   microsoft/vscode    171199  open    Accessibility getting started experience    feature-request, accessibility, under-discussion    2023-06-26T08:30:36Z
pr  microsoft/vscode    170985  merged  support screen reader reading the line when go to next/previous diff are used       2023-02-25T23:23:51Z
issue   microsoft/vscode    170971  closed  [Accessibility]: Allow users to replace default sound file  *duplicate  2023-02-24T23:24:11Z
issue   microsoft/vscode    169853  closed  Explore plain content editable element for terminal buffer instead of navigation mode   feature-request, accessibility, terminal, on-testplan, on-release-notes 2023-03-06T23:24:33Z
issue   microsoft/vscode    168746  open    [Accessibility] Word wrap does not work in diff view (F7 and Shift+F7)  feature-request, accessibility, diff-editor 2022-12-12T15:35:40Z
pr  microsoft/vscode    167349  closed  fix #167348: add aria-live      2023-02-16T17:31:02Z
issue   microsoft/vscode    167348  closed  [Accessibility] div.monaco-tokenized-source requires aria-live="assertive"  accessibility, under-discussion, inline-completions 2023-05-26T19:08:21Z
issue   microsoft/vscode    168814  open    Need a clearer landmark and label for notebook output area  feature-request, accessibility, notebook-layout 2023-01-12T19:32:55Z
issue   microsoft/vscode    166518  closed  Add audio cues for Go to Next/ Previous Change commands feature-request, accessibility, diff-editor, on-testplan, on-release-notes, insiders-released   2023-02-24T23:24:11Z
issue   microsoft/vscode    166472  open    [Accessibility] Add an option to allow Alt+F5 to jump to the next --word-diff instead of the whole line feature-request, accessibility, diff-editor 2023-02-07T17:39:07Z
issue   microsoft/vscode    165863  closed  Hitting spacebar does not replay currently focused audio cue    feature-request, accessibility  2022-12-25T23:23:33Z
issue   microsoft/vscode    165357  closed  [Accessibility] Audio Cues still doesn't work in github.dev insider bug, upstream, verified, accessibility  2023-02-22T19:56:44Z
issue   microsoft/vscode    165161  open    [Accessibility] Open Folder dialog controls do not have accelerator keys    feature-request, accessibility  2022-11-01T17:25:37Z
issue   microsoft/vscode    164988  closed  [Accessibility]: Screen readers do not read currently focused line when using Alt+F5/Alt+Shift+F5   feature-request, accessibility, on-testplan, insiders-released  2023-02-25T23:23:51Z
issue   microsoft/vscode    163506  open    [Accessibility] Provide icon info to screen readers feature-request, accessibility, outline, breadcrumbs    2023-06-27T22:01:02Z
issue   microsoft/vscode    160301  open    [Accessibility] Some long file content line is not correctly communicated with screen readers   upstream, accessibility 2022-12-05T18:33:39Z
issue   microsoft/vscode    159029  open    Merge editor accessibility improvements accessibility, merge-editor 2023-02-22T05:04:55Z
issue   microsoft/vscode    155919  closed  [Accessibility] Support `Live Share` audio cues in `Help: List Audio Cues`  feature-request, accessibility, *out-of-scope   2022-10-31T15:25:05Z
issue   microsoft/vscode    155655  closed  [Accessibility] For easier code navigation, add jump to next/previous param within a function   feature-request, editor-parameter-hints, editor-symbols 2022-11-30T23:26:27Z
issue   microsoft/vscode    154027  closed  [Accessibility]: Terminal output is not read in real time on Mac for VoiceOver  bug, verified, accessibility, confirmed 2023-02-23T23:24:39Z
issue   microsoft/vscode    147607  closed  [Accessibility] Unlabelled `codicon` buttons    info-needed, accessibility  2022-06-11T23:24:58Z
issue   microsoft/vscode    147386  closed  [Accessibility] Add audio cues for indentation levels   feature-request, accessibility, *out-of-scope   2022-10-31T15:27:13Z
issue   microsoft/vscode    147230  open    Play audio-cues for auto-suggestions    feature-request, accessibility, inline-completions  2023-04-27T22:11:54Z
issue   microsoft/vscode    147226  closed  [Accessibility] Consider adding audio cues for diffs (added / deleted code) feature-request, verified, accessibility, on-release-notes, insiders-released   2022-12-31T23:23:02Z
issue   microsoft/vscode    147190  closed  [Accessibility] Audio Cues doesn't work in web editor   bug, verified, accessibility, web, vscode.dev   2023-04-27T14:29:46Z
issue   microsoft/vscode    143185  closed  Problems to access the preview of a markdown file using orca    accessibility, webview  2023-01-25T23:24:24Z
issue   microsoft/vscode    142983  closed  [Terminal accessibility] JAWS does not speak anything against aria-live in terminal bug, verified, accessibility, regression, confirmation-pending, author-verification-requested   2022-04-17T23:25:46Z
issue   microsoft/vscode    141529  closed  Webviews displaying results of an API call with Restclient extension are not accessible to screen readers when there is a lot of data   accessibility, webview, *out-of-scope   2022-12-06T04:35:04Z
issue   microsoft/vscode    135920  closed  [Accessibility] "xterm-accessibility" class div does not have tabindex so that keyboard users cannot land in this area using tab key.   upstream, accessibility, terminal, insiders-released    2022-01-24T23:25:29Z
issue   microsoft/vscode    135035  closed  [Accessibility] GitHub Web Editor: Cannot configure accessibility mode permanently  info-needed, accessibility  2021-12-06T23:25:52Z
issue   microsoft/vscode    133876  closed  [Accessibility] Assign a keyboard shortcut key to Focus Terminal Output feature-request, info-needed, accessibility, terminal   2023-01-27T23:23:46Z
issue   microsoft/vscode    133805  closed  `Shift+Alt+R` for `Reveal in File Explorer` doesn't work when focus is in `text editor  info-needed 2021-11-19T23:25:09Z
issue   microsoft/vscode    133773  closed  [Accessibility] "document" role is needed for "monaco-hover" class div  upstream, accessibility 2021-12-25T23:25:10Z
issue   microsoft/vscode    132275  closed  [Accessibility] Add "document" role to webview widget   verified, accessibility, webview, insiders-released 2021-10-22T23:24:53Z
issue   microsoft/vscode    131295  open    [Accessibility] Character is not read properly in terminal input after auto-completion  feature-request, accessibility, terminal-accessibility  2023-02-15T15:22:25Z
issue   microsoft/vscode    131090  closed  [Accessibility] NVDA and JAWS do not read focused auto-suggestion item properly in terminal input   accessibility, terminal, wont-fix   2021-11-22T23:25:22Z
issue   microsoft/vscode    130565  closed  Notify Screenreader Users When Inline Suggestions Or Decorations Available  feature-request, accessibility, on-testplan 2022-03-13T23:25:15Z
issue   microsoft/vscode    121735  closed  Terminal input does not work with NVDA  bug, important, accessibility, *duplicate, terminal-tabs    2021-06-07T23:32:18Z
issue   microsoft/vscode    113482  closed  Tab code-completion does not work in terminal input against screen readers  accessibility, terminal, *duplicate 2021-02-13T23:34:09Z
issue   microsoft/vscode    111255  open    VS Code native notebook accessibility improvement   debt, accessibility, polish, notebook   2022-10-31T15:30:48Z
issue   microsoft/vscode    105425  closed  Garbage characters are inserted if you come back from terminal output to input  accessibility, terminal, *not-reproducible  2021-11-27T23:34:09Z
issue   microsoft/vscode    103095  closed  Auto-complete popup puts redundant "item" prefix per suggested code for screen readers  bug, verified, accessibility, insiders-released 2020-09-11T23:22:23Z
issue   microsoft/vscode    98918   closed  Terminal output div container should be more accessible for screen readers  bug, upstream, accessibility, terminal-accessibility    2023-02-01T17:06:54Z
issue   microsoft/vscode    95570   closed  Support terminal link keyboard navigation   feature-request, accessibility, terminal, on-testplan, on-release-notes, terminal-links, insiders-released  2022-02-20T23:24:33Z
issue   microsoft/vscode    90408   open    Feature request: Accessibility support for Jupyter notebooks in VSCode  feature-request, accessibility, notebook    2023-06-05T08:16:57Z</code></pre>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    if (id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        for (let i = 0; i < 2; i++) {
          container.appendChild(note.children[i].cloneNode(true));
        }
        return container.innerHTML
      } else {
        return note.innerHTML;
      }
    } else {
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      try { hash = new URL(url).hash; } catch {}
      const id = hash.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note !== null) {
        try {
          const html = processXRef(id, note);
          instance.setContent(html);
        } finally {
          instance.enable();
          instance.show();
        }
      } else {
        // See if we can fetch this
        fetch(url.split('#')[0])
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.getElementById(id);
          if (note !== null) {
            const html = processXRef(id, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>